/*prout*/
!function(p){"use strict";function s(e,i){this.bearer=e,this.options=i,this.currentLevel=0,this.value=null,this.elements={option:'<div class="radioslider__option">',dot:'<span class="radioslider__dot">',content:'<span class="radioslider__content">',bar:'<div class="radioslider__bar">',fill:'<div class="radioslider__fill">',knob:'<span class="radioslider__knob">',inputClass:"radioslider__input",labelClass:"radioslider__label",lowerClass:"lower",disabledClass:"disabled"}}s.prototype={activate:function(){this.numOptions=this.bearer.find("input[type=radio]").length,this.addBaseStyle(),this.addBar(),this.setSlider(),this.addInteraction(),this.setDisabled()},addBaseStyle:function(){var e,i,t,s=this.bearer,a=this.elements;s.addClass("radioslider "+this.options.size),i=s.find("> input[type=radio]").each(function(e){p(this).addClass(a.inputClass).attr("data-level",e+1)}),s.$inputs=i,t=s.find("> label").each(function(e){var i=p(this).html(),t=p(a.content).html(i),s=p(a.dot);p(this).addClass(a.labelClass).attr("data-level",e+1).html("").append(s).append(t)}),s.$labels=t,e=i.each(function(){p(this).nextUntil("input").addBack().wrapAll(a.option)}),s.$options=e},addBar:function(){var e,i,t,s=this.bearer,a=this.elements;t=p(a.knob),i=p(a.fill),e=p(a.bar),i.append(t),e.append(i),s.append(e),this.bearer.$bar=e,this.bearer.$fill=i,this.bearer.$knob=t,this.options.animation&&i.addClass("transition-enabled")},setSlider:function(){var s,a=this,e=this.elements,i=this.bearer,t=i.$inputs,l=(i.$labels,i.$fill),n=i.$knob,r=p(e.dot).attr("class"),d=e.lowerClass,o=t.filter(":checked");if(0<o.length){var h=o.attr("data-level"),c=o.position().left,b=i.width(),u=100*(c+n.width()/2)/b;l.css("visibility","visible"),l.width(u+"%"),a.currentLevel=Number(h),s=0,t.each(function(){s++;var e=p(this),i=e.next("label"),t=e.next("label").find("."+r);s<a.currentLevel?(t.css("visibility",""),i.addClass(d)):s===a.currentLevel?t.css("visibility","hidden"):(t.css("visibility",""),i.removeClass(d))})}},addInteraction:function(){var a=this,l=a.bearer,n=l.$inputs;n.on("change",function(){var e=p(this),i=e.attr("value"),t=e.attr("data-level"),s=n.filter("[data-level="+t+"]");s.prop("checked",!0),a.options.onChange&&a.options.onChange(s,[n]),a.value=i,l.attr("data-value",i),a.setSlider(),l.trigger("radiochange")})},setDisabled:function(){this.options.isDisable&&this.setDisable()},setDisable:function(e){this.options.isDisable=!0;var i=this.elements,t=this.bearer,s=t.$labels,a=t.$inputs,l=i.disabledClass;p.merge(s,a).each(function(){var e=p(this);e.prop("disabled",!0),e.off("click change")}),"function"==typeof e&&e(s,a),t.addClass(l).trigger("radiodisabled")},setEnable:function(e){this.options.isDisable=!1;var i=this,t=this.elements,s=i.bearer,a=s.$labels,l=s.$inputs,n=t.disabledClass;p.merge(a,l).each(function(){p(this).prop("disabled",!1),i.addInteraction()}),"function"==typeof e&&e(a,l),s.removeClass(n).trigger("radiodenabled")},getValue:function(){return this.value}},p.fn.radioslider=function(i){var t=[];return this.each(function(){i=p.extend({},p.fn.radioslider.defaults,i);var e=new s(p(this),i);e.activate(),t.push({bearer:e.bearer,setDisable:e.setDisable.bind(e),setEnable:e.setEnable.bind(e),getValue:e.getValue.bind(e)})}),t},p.fn.radioslider.defaults={size:"",animation:!0,isDisable:!1,onSelect:null}}(jQuery);