/*prout*/
!function(C){"use strict";var a="radioslider",e=0,s={size:"",animation:!0,isDisabled:!1,fillOffset:null,fillOrigin:null,fit:!1,onSelect:null,orientation:"horizontal",sliderClass:"radioslider",itemClass:"radioslider__item",inputClass:"radioslider__input",labelClass:"radioslider__label",dotClass:"radioslider__dot",textClass:"radioslider__text",barClass:"radioslider__bar",fillClass:"radioslider__fill",handleClass:"radioslider__handle",horizontalClass:"radioslider_horizontal",verticalClass:"radioslider_vertical",disabledClass:"radioslider_disabled",fitClass:"radioslider_fit",labelLowerClass:"lower",animationClass:"animated",inverseClass:"inverse"},o={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};function n(t,i){this.options=C.extend({},s,i),this.$window=C(window),this.$document=C(document),this.$bearer=C(t),this.orientation=this.options.orientation,this.DIMENSION=o.orientation[this.orientation].dimension,this.DIRECTION=o.orientation[this.orientation].direction,this.DIRECTION_STYLE=o.orientation[this.orientation].directionStyle,this.COORDINATE=o.orientation[this.orientation].coordinate,this.identifier="js-"+a+"-"+e++,this.currentLevel=0,this.value=null,this.levelsCount=this.$bearer.find("input[type=radio]").length,this.$bar=C('<div class="'+this.options.barClass+'">'),this.$fill=C('<div class="'+this.options.fillClass+'">'),this.$handle=C('<span class="'+this.options.handleClass+'">'),this.$bar.append(this.$fill).append(this.$handle),this.init()}n.prototype.init=function(){this.activate(),this.onInit&&"function"==typeof this.onInit&&this.onInit()},n.prototype.activate=function(){this.addBase(),this.setSlider(),this.addInteraction(),this.options.isDisabled&&this.setDisabled()},n.prototype.addBase=function(){var t,n,i,e,l=this.options,s=this.$bearer,a=this.$bar,o=this.$fill,r=this.$handle;s.addClass(l.sliderClass+" "+l[this.orientation+"Class"]+" "+(l.fit?l.fitClass:"")+" "+l.size).attr("data-radioslider",this.identifier),n=s.find("> input[type=radio]").each(function(t){C(this).addClass(l.inputClass).attr("data-level",t+1)}),this.$inputs=n,i=s.find("> label").each(function(t){var i,e,s,a,o;s=C(this).html(),a=C('<span class="'+l.textClass+'">').html(s),i=t+1,e=n.filter("[data-level="+i+"]").attr("value"),o=C('<span class="'+l.dotClass+'">').attr("data-level",i).attr("data-value",e),C(this).addClass(l.labelClass).html("").append(o).append(a)}),e=s.find("."+l.dotClass),this.$dots=e,this.$labels=i,n.each(function(){var t=C('<div class="'+l.itemClass+'">');C(this).nextUntil("input").addBack().wrapAll(t)}),t=s.find("."+l.itemClass),this.$items=t,s.append(a),this.options.animation&&(o.addClass(this.options.animationClass),r.addClass(this.options.animationClass))},n.prototype.setSlider=function(){var t=this.$inputs.filter(":checked");if(0<t.length){var i,e,s,a,o,n,l,r,d=this,h=this.options,u=this.$inputs,p=this.$fill,c=this.$handle,f=h.fillOrigin;h.fillOffset;if(e=Number(t.attr("data-level")),s=this.getValueFromLevel(e),n=this.getPositionFromValue(s),a=this.getPositionOffsetFromValue(s),o=this.getPositionOffsetFromValue(s,!0),f&&(i=this.getPositionFromValue(f))){var v=this.getLevelFromValue(f);"horizontal"===this.orientation&&v<=e?(r=i-o,l=n-i+a+o,p.removeClass(h.inverseClass)):"horizontal"===this.orientation&&e<v?(r=n-o,l=i-n+a+o,p.addClass(h.inverseClass)):"vertical"===this.orientation&&v<=e?(r=i+a,l=n-i+a,p.removeClass(h.inverseClass)):(r=n+a,l=i+n,p.addClass(h.inverseClass))}else l=n+a,r=0;p.css("visibility","visible"),p[0].style[d.DIMENSION]=this.dimensionToPercent(l)+"%",p[0].style[d.DIRECTION_STYLE]=this.dimensionToPercent(r)+"%",c[0].style[d.DIRECTION_STYLE]=this.dimensionToPercent(n-o)+"%",d.currentLevel=e,0,u.each(function(){0;var t=C(this),i=t.next("label"),e=t.next("label").find("."+h.dotClass),s=Number(t.attr("data-level"));s<d.currentLevel?(e.css("visibility",""),i.addClass(h.labelLowerClass)):s===d.currentLevel||(e.css("visibility",""),i.removeClass(h.labelLowerClass))})}},n.prototype.addInteraction=function(){var e=this,s=this.$bearer,a=this.$inputs;a.on("change",function(){var t=C(this),i=t.attr("value");t.prop("checked",!0),e.options.onChange&&e.options.onChange(t,[a]),e.value=i,e.setSlider(),s.trigger("radiochange")})},n.prototype.setDisabled=function(t){this.options.isDisable=!0;var i=this,e=i.$bearer,s=i.$labels,a=i.$inputs,o=i.options.disabledClass;C.merge(s,a).each(function(){var t=C(this);t.prop("disabled",!0),t.off("click change")}),"function"==typeof t&&t(s,a),e.addClass(o).trigger("radiodisabled")},n.prototype.setEnabled=function(t){this.options.isDisable=!1;var i=this,e=i.$bearer,s=i.$labels,a=i.$inputs,o=i.options.disabledClass;C.merge(s,a).each(function(){C(this).prop("disabled",!1),i.addInteraction()}),"function"==typeof t&&t(s,a),e.removeClass(o).trigger("radiodenabled")},n.prototype.getValue=function(){return this.value},n.prototype.setValue=function(t){t!==this.value&&this.$inputs.filter("[value="+t+"]").trigger("click")},n.prototype.getLevelFromValue=function(t){var i;return i=Number(this.$inputs.filter("[value="+t+"]").attr("data-level")),i=Number.isNaN(i)?0:i},n.prototype.getValueFromLevel=function(t){return this.$inputs.filter("[data-level="+t+"]").attr("value")},n.prototype.getPositionFromValue=function(t){var i,e;return(e=this.$dots.filter("[data-value="+t+"]"))&&0<e.length&&(i=e.position()[this.DIRECTION_STYLE]),i=Number.isNaN(i)?0:i},n.prototype.getPositionOffsetFromValue=function(t,i){var e,s,a,o,n,l,r;return s=this.getLevelFromValue(t),a={width:(e=this.$dots.filter("[data-level="+s+"]")).outerWidth(),height:e.outerHeight()},o={width:this.$handle.outerWidth(),height:this.$handle.outerHeight()},n=a[this.DIMENSION],l=o[this.DIMENSION],r=i?l/2-n/2:l/2+n/2,r=Number.isNaN(r)?0:r},n.prototype.dimensionToPercent=function(t){return 100*t/{width:this.$bearer.outerWidth(),height:this.$bearer.outerHeight()}[this.DIMENSION]},n.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$bearer.off("."+this.identifier).removeData("plugin_"+a),this.$inputs.off("change"),this.$bearer.removeClass(this.options.sliderClass+" "+this.options[this.orientation+"Class"]+" "+this.options.size),this.$dots.remove(),this.$items.children().unwrap().each(function(){var t,i=C(this);i.removeAttr("data-level").removeClass("radioslider__input radioslider__label radioslider__text"),0<this.children.length&&(t=i.children().html(),i.children().remove(),i.html(t))}),this.$bar.remove()},C.fn[a]=function(e){var s=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=C(this),i=t.data("plugin_"+a);i||t.data("plugin_"+a,i=new n(this,e)),"string"==typeof e&&i[e].apply(i,s)})}}(jQuery);