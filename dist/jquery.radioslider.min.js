/**
 * RadioSlider 1.0.0-dev
 * A jQuery plugin to display radio buttons as a slider.
 * (c) 2019 tcharlss / Ruben Torres
 * MIT license
 */

!function($){"use strict";var a="radioslider",s=0,e={size:"",animation:!0,isDisabled:!1,fillOffset:null,fillOrigin:null,fit:!1,onSelect:null,orientation:"horizontal",sliderClass:"radioslider",itemClass:"radioslider__item",inputClass:"radioslider__input",labelClass:"radioslider__label",dotClass:"radioslider__dot",textClass:"radioslider__text",barClass:"radioslider__bar",fillClass:"radioslider__fill",handleClass:"radioslider__handle",horizontalClass:"radioslider_horizontal",verticalClass:"radioslider_vertical",disabledClass:"radioslider_disabled",fitClass:"radioslider_fit",animationClass:"radioslider_animated",dotUnderClass:"under",inverseClass:"inverse",activeClass:"active",focusClass:"focused"},n={orientation:{horizontal:{dimension:"width",direction:"left",directionStyle:"left",coordinate:"x"},vertical:{dimension:"height",direction:"top",directionStyle:"bottom",coordinate:"y"}}};function o(t,i){this.options=$.extend({},e,i),this.$window=$(window),this.$document=$(document),this.$bearer=$(t),this.orientation=this.options.orientation,this.DIMENSION=n.orientation[this.orientation].dimension,this.DIRECTION=n.orientation[this.orientation].direction,this.DIRECTION_STYLE=n.orientation[this.orientation].directionStyle,this.COORDINATE=n.orientation[this.orientation].coordinate,this.identifier="js-"+a+"-"+s++,this.level=0,this.value=null,this.levelsCount=this.$bearer.find("input[type=radio]").length,this.$bar=$('<span class="'+this.options.barClass+'">'),this.$fill=$('<span class="'+this.options.fillClass+'">'),this.$handle=$('<span class="'+this.options.handleClass+'">'),this.$bar.append(this.$fill.css("visibility","hidden")).append(this.$handle),this.init()}o.prototype.init=function(){this.activate(),this.onInit&&"function"==typeof this.onInit&&this.onInit()},o.prototype.activate=function(){this.addBase(),this.setSlider(),this.addInteraction(),this.options.isDisabled&&this.setDisabled()},o.prototype.addBase=function(){var t,o,i,s,l=this.options,e=this.$bearer,a=this.$bar;e.addClass(l.sliderClass+" "+l[this.orientation+"Class"]+" "+(l.fit?l.fitClass:"")+" "+(l.animation?l.animationClass:"")+" "+(l.size?l.sliderClass+"_"+l.size:"")).attr("data-radioslider",this.identifier),o=e.find("> input[type=radio]").each(function(t){$(this).addClass(l.inputClass).attr("data-level",t+1)}),this.$inputs=o,i=e.find("> label").each(function(t){var i,s,e,a,n;e=$(this).html(),a=$('<span class="'+l.textClass+'">').html(e),i=t+1,s=o.filter("[data-level="+i+"]").attr("value"),n=$('<span class="'+l.dotClass+'">').attr("data-level",i).attr("data-value",s),$(this).addClass(l.labelClass).html("").append(n).append(a)}),s=e.find("."+l.dotClass),this.$dots=s,this.$labels=i,o.each(function(){var t=$('<div class="'+l.itemClass+'">');$(this).nextUntil("input").addBack().wrapAll(t)}),t=e.find("."+l.itemClass),this.$items=t,"vertical"===this.orientation&&t.each(function(t,i){e.prepend(i)}),e.append(a)},o.prototype.setSlider=function(){var t=this.$inputs.filter(":checked");if(0<t.length){var i,s,a,n,o,l,e,r,h,d,c,p=this.options,u=this.$inputs,f=this.$bar,C=this.$fill,v=this.$handle,m=p.fillOrigin,b=p.fillOffset;if(a=Number(t.attr("data-level")),s=this.getValueFromLevel(a),e=this.getPositionFromValue(s),h=this.getBarOffset(),null!==m&&(r=this.getPositionFromValue(m))||null!==b&&(r=this.getPositionFromValue(b)))if(n=null!==m?this.getLevelFromValue(m):this.getLevelFromValue(b),C.css("opacity","").addClass("offseted"),this.$handleOrigin?i=this.$handleOrigin:(i=$('<span class="'+this.options.handleClass+" "+p.handleClass+'_origin">'),this.$handleOrigin=i,C.after(i),i[0].style[this.DIRECTION_STYLE]=this.dimensionToPercent(r)+"%"),n<=a)switch(f.removeClass(p.inverseClass),i.removeClass(p.inverseClass).css("opacity",""),this.orientation){case"horizontal":case"vertical":d=e-r,c=r}else if(null!==m)switch(f.addClass(p.inverseClass),i.addClass(p.inverseClass),this.orientation){case"horizontal":d=r-e,c=e;break;case"vertical":d=r+e,c=e}else i.css("opacity",0),C.css("opacity",0),d=2*h,c=e;else d=e,c=0;C.css("visibility",""),C[0].style[this.DIRECTION_STYLE]=this.dimensionToPercent(c)+"%","vertical"===this.orientation?(C[0].style[this.DIMENSION]=100-this.dimensionToPercent(d)+"%",v[0].style[this.DIRECTION_STYLE]=100-this.dimensionToPercent(e)+"%"):(C[0].style[this.DIMENSION]=this.dimensionToPercent(d)+"%",v[0].style[this.DIRECTION_STYLE]=this.dimensionToPercent(e)+"%"),this.level=a,this.value=s,0,o=n?Math.min(n,a):1,l=n?Math.max(n,a):a,u.each(function(){0;var t=$(this),i=t.next("label").find("."+p.dotClass),s=Number(t.attr("data-level")),e=null!==b&&a<n;s===a?i.css("opacity","0"):s<o||l<s||e?i.css("opacity","").removeClass(p.dotUnderClass):i.css("opacity","").addClass(p.dotUnderClass)})}},o.prototype.addInteraction=function(){var t=this,i=this.$bearer,s=this.$inputs,e=this.$handle;s.on("change",function(){$(this).prop("checked",!0),t.options.onSelect&&t.options.onSelect($(this),[s]),t.setSlider(),i.trigger("radiochange")}).on("focusin",function(){e.addClass(t.options.focusClass)}).on("focusout",function(){e.removeClass(t.options.focusClass)})},o.prototype.setDisabled=function(t){this.options.isDisable=!0;var i=this.$bearer,s=this.$labels,e=this.$inputs,a=this.options.disabledClass;$.merge(s,e).each(function(){var t=$(this);t.prop("disabled",!0),t.off("click change")}),"function"==typeof t&&t(s,e),i.addClass(a).trigger("radiodisabled")},o.prototype.setEnabled=function(t){this.options.isDisable=!1;var i=this,s=i.$bearer,e=i.$labels,a=i.$inputs,n=i.options.disabledClass;$.merge(e,a).each(function(){$(this).prop("disabled",!1),i.addInteraction()}),"function"==typeof t&&t(e,a),s.removeClass(n).trigger("radiodenabled")},o.prototype.getValue=function(){return this.value},o.prototype.setValue=function(t){t!==this.value&&this.$inputs.filter("[value="+t+"]").trigger("click")},o.prototype.getLevelFromValue=function(t){var i;return i=Number(this.$inputs.filter('[value="'+t+'"]').attr("data-level")),i=Number.isNaN(i)?0:i},o.prototype.getValueFromLevel=function(t){return this.$inputs.filter("[data-level="+t+"]").attr("value")},o.prototype.getPositionFromValue=function(t){var i,s,e;return(e=this.$dots.filter('[data-value="'+t+'"]'))&&0<e.length&&(s={width:e.outerWidth(),height:e.outerHeight()}[this.DIMENSION],i=e.position()[this.DIRECTION]+s/2),i=Number.isNaN(i)?0:i},o.prototype.getBarOffset=function(){var t;return t={width:this.$bar.outerHeight(),height:this.$bar.outerWidth()}[this.DIMENSION]/2,t=Number.isNaN(t)?0:t},o.prototype.dimensionToPercent=function(t){return 100*t/{width:this.$bearer.outerWidth(),height:this.$bearer.outerHeight()}[this.DIMENSION]},o.prototype.destroy=function(){this.$document.off("."+this.identifier),this.$window.off("."+this.identifier),this.$bearer.off("."+this.identifier).removeData("plugin_"+a),this.$inputs.off("change"),this.$bearer.removeClass(this.options.sliderClass+" "+this.options[this.orientation+"Class"]+" "+this.options.size),this.$dots.remove(),this.$items.children().unwrap().each(function(){var t,i=$(this);i.removeAttr("data-level").removeClass(this.options.inputClass+" "+this.options.labelClass+" "+this.options.textClass),0<this.children.length&&(t=i.children().html(),i.children().remove(),i.html(t))}),this.$bar.remove()},$.fn[a]=function(s){var e=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=$(this),i=t.data("plugin_"+a);i||t.data("plugin_"+a,i=new o(this,s)),"string"==typeof s&&i[s].apply(i,e)})}}(jQuery);