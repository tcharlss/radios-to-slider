/*prout*/
!function(h){"use strict";function s(e,i){this.bearer=e,this.options=i,this.currentLevel=0,this.value=null}s.prototype={activate:function(){this.numOptions=this.bearer.find("input[type=radio]").length,this.addBaseStyle(),this.addLevels(),this.addFill(),this.setSlider(),this.addInteraction(),this.setDisabled()},reset:function(){var e=this.bearer.find("label"),i=this.bearer.find(".radios-to-slider__level");e.each(function(){var e=h(this);e.removeClass("radios-to-slider__label"),e.css("left","")}),i.each(function(){h(this).remove()})},addBaseStyle:function(){var e=this.bearer;e.addClass("radios-to-slider "+this.options.size);var i=h('<div class="radios-to-slider__bar">');e.prepend(i),e.$bar=i;var a=e.find("input[type=radio]"),s=h('<div class="radios-to-slider__inputs">').hide();e.find(a).wrapAll(s),e.$inputs=a;var t=h('<div class="radios-to-slider__labels">'),r=e.find("label");(e.$labels=r).each(function(){h(this).addClass("radios-to-slider__label"),0}).wrapAll(t).parent().css("padding-left",i.css("paddingLeft")).css("padding-right",i.css("paddingRight"))},addLevels:function(){var a=this.bearer,e=a.$bar;a.find("input[type=radio]").each(function(){var e=h(this),i=h('<ins class="radios-to-slider__level" data-radio="'+e.attr("id")+'" data-value='+e.val()+"></ins>");a.append(i)});var i=a.find(".radios-to-slider__level");(a.$levels=i).appendTo(e)},addFill:function(){var e=h('<span class="radios-to-slider__knob"></span>'),i=h('<ins class="radios-to-slider__fill"></ins>').append(e);this.bearer.$bar.append(i),this.bearer.$fill=i,this.bearer.$knob=e},setSlider:function(){var i,r=this.bearer.$bar,e=this.bearer.$inputs,n=this.bearer.$levels,a=this.bearer.$labels,l=this.bearer.$fill,d=this.bearer.$knob,o=1,c=this;e.each(function(){var e=h(this);if(e.prop("checked")){var i=e.attr("value"),a=n.filter("[data-value="+i+"]").position().left,s=r.width(),t=100*(a+d.width()/2)/s;l.css("visibility","visible"),l.width(t+"%"),c.currentLevel=o}c.options.animation&&l.addClass("transition-enabled"),o++}),i=0,n.each(function(){i++;var e=h(this);i<c.currentLevel?(e.css("visibility","visible"),e.addClass("radios-to-slider__level_lower")):i===c.currentLevel?e.css("visibility","hidden"):(e.css("visibility","visible"),e.removeClass("radios-to-slider__level_lower"))}),i=0,a.each(function(){i++;var e=h(this);i===c.currentLevel?e.addClass("active"):e.removeClass("active")})},addInteraction:function(){var t=this,r=t.bearer,n=r.$levels,l=r.$inputs;n.on("click",function(){var e=h(this),i=e.attr("data-value"),a=e.attr("data-radio"),s=r.find("#"+a);s.prop("checked",!0),t.options.onSelect&&t.options.onSelect(s,[n,l]),t.value=i,r.attr("data-value",i),t.setSlider(),r.trigger("radiochange")}),l.on("change",function(){var e=h(this),i=e.attr("value"),a=e.attr("data-radio"),s=r.find("#"+a);s.prop("checked",!0),t.options.onChange&&t.options.onChange(s,[n,l]),t.value=i,r.attr("data-value",i),t.setSlider(),r.trigger("radiochange")})},setDisabled:function(){this.options.isDisable&&this.setDisable()},setDisable:function(e){this.options.isDisable=!0;var i=this.bearer,a=this.bearer.$levels,s=this.bearer.$inputs;h.merge(a,s).each(function(){var e=h(this);e.prop("disabled",!0).addClass("disabled"),e.off("click change")}),"function"==typeof e&&e(a,s),i.trigger("radiodisabled")},setEnable:function(e){this.options.isDisable=!1;var i=this,a=i.bearer,s=this.bearer.$levels,t=this.bearer.$inputs;h.merge(s,t).each(function(){h(this).prop("disabled",!1).removeClass("disabled"),i.addInteraction()}),"function"==typeof e&&e(s,t),a.trigger("radiodenabled")},getValue:function(){return this.value}},h.fn.radiosToSlider=function(i){var a=[];return this.each(function(){i=h.extend({},h.fn.radiosToSlider.defaults,i);var e=new s(h(this),i);e.activate(),a.push({bearer:e.bearer,setDisable:e.setDisable.bind(e),setEnable:e.setEnable.bind(e),getValue:e.getValue.bind(e)})}),a},h.fn.radiosToSlider.defaults={size:"medium",animation:!0,isDisable:!1,onSelect:null}}(jQuery);